<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Search for packages."><title>Search for packages. — package_search • ckanr</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Search for packages. — package_search"><meta property="og:description" content="Search for packages."><meta property="og:image" content="https://docs.ropensci.org/ckanr/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">ckanr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.7.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/ckanr.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/ckanr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Search for packages.</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/ckanr/blob/HEAD/R/package_search.R" class="external-link"><code>R/package_search.R</code></a></small>
      <div class="d-none name"><code>package_search.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Search for packages.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">package_search</span><span class="op">(</span></span>
<span>  q <span class="op">=</span> <span class="st">"*:*"</span>,</span>
<span>  fq <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sort <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rows <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  start <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  facet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  facet.limit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  facet.field <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  facet.mincount <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_drafts <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  include_private <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_default_schema <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  url <span class="op">=</span> <span class="fu"><a href="ckanr_settings.html">get_default_url</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  key <span class="op">=</span> <span class="fu"><a href="ckanr_settings.html">get_default_key</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  as <span class="op">=</span> <span class="st">"list"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>q</dt>
<dd><p>Query terms, defaults to '<em>:</em>', or everything.</p></dd>


<dt>fq</dt>
<dd><p>Filter query, this does not affect the search, only what gets
returned</p></dd>


<dt>sort</dt>
<dd><p>Field to sort on. You can specify ascending (e.g., score desc)
or descending (e.g., score asc), sort by two fields (e.g., score desc,
price asc), or sort by a function (e.g., sum(x_f, y_f) desc, which sorts
by the sum of x_f and y_f in a descending order).</p></dd>


<dt>rows</dt>
<dd><p>Number of records to return. Defaults to 10.</p></dd>


<dt>start</dt>
<dd><p>Record to start at, default to beginning.</p></dd>


<dt>facet</dt>
<dd><p>(logical) Whether to return facet results or not.
Default: <code>FALSE</code></p></dd>


<dt>facet.limit</dt>
<dd><p>(numeric) This param indicates the maximum number of
constraint counts that should be returned for the facet fields.
A negative value means unlimited. Default: 100.
Can be specified on a per field basis.</p></dd>


<dt>facet.field</dt>
<dd><p>(character) This param allows you to specify a field which
should be treated as a facet. It will iterate over each Term in the field
and generate a facet count using that Term as the constraint. This parameter
can be specified multiple times to indicate multiple facet fields. None of
the other params in this section will have any effect without specifying at
least one field name using this param.</p></dd>


<dt>facet.mincount</dt>
<dd><p>(integer) the minimum counts for facet fields should
be included in the results</p></dd>


<dt>include_drafts</dt>
<dd><p>(logical) if <code>TRUE</code> draft datasets will be
included. A user will only be returned their own draft datasets, and a
sysadmin will be returned all draft datasets. default: <code>FALSE</code>.
first CKAN version: 2.6.1; dropped from request if CKAN version is older
or if CKAN version isn't available via <code><a href="ckan_info.html">ckan_version()</a></code></p></dd>


<dt>include_private</dt>
<dd><p>(logical) if <code>TRUE</code> private datasets will be
included. Only private datasets from the user’s organizations will be
returned and sysadmins will be returned all private datasets.
default: <code>FALSE</code>
first CKAN version: 2.6.1; dropped from request if CKAN version is older
or if CKAN version isn't available via <code><a href="ckan_info.html">ckan_version()</a></code></p></dd>


<dt>use_default_schema</dt>
<dd><p>(logical) use default package schema instead of a
custom schema defined with an IDatasetForm plugin. default: <code>FALSE</code>
first CKAN version: 2.3.5; dropped from request if CKAN version is older
or if CKAN version isn't available via <code><a href="ckan_info.html">ckan_version()</a></code></p></dd>


<dt>url</dt>
<dd><p>Base url to use. Default: https://data.ontario.ca/ See
also <code><a href="ckanr_setup.html">ckanr_setup</a></code> and <code><a href="ckanr_settings.html">get_default_url</a></code>.</p></dd>


<dt>key</dt>
<dd><p>A privileged CKAN API key, Default: your key set with
<code><a href="ckanr_setup.html">ckanr_setup</a></code></p></dd>


<dt>as</dt>
<dd><p>(character) One of list (default), table, or json. Parsing with
table option uses <code>jsonlite::fromJSON(..., simplifyDataFrame = TRUE)</code>,
which attempts to parse data to data.frame's when possible, so the result
can vary from a vector, list or data.frame. (required)</p></dd>


<dt>...</dt>
<dd><p>Curl args passed on to <code><a href="https://docs.ropensci.org/crul/reference/verb-POST.html" class="external-link">verb-POST</a></code> (optional)</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ckanr_setup.html">ckanr_setup</a></span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://demo.ckan.org"</span>, key<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ckan_demo_key"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">package_search</span><span class="op">(</span>q <span class="op">=</span> <span class="st">'*:*'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">package_search</span><span class="op">(</span>q <span class="op">=</span> <span class="st">'*:*'</span>, rows <span class="op">=</span> <span class="fl">2</span>, as <span class="op">=</span> <span class="st">'json'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">package_search</span><span class="op">(</span>q <span class="op">=</span> <span class="st">'*:*'</span>, rows <span class="op">=</span> <span class="fl">2</span>, as <span class="op">=</span> <span class="st">'table'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">package_search</span><span class="op">(</span>q <span class="op">=</span> <span class="st">'*:*'</span>, sort <span class="op">=</span> <span class="st">'score asc'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">package_search</span><span class="op">(</span>q <span class="op">=</span> <span class="st">'*:*'</span>, fq <span class="op">=</span> <span class="st">'num_tags:[3 TO *]'</span><span class="op">)</span><span class="op">$</span><span class="va">count</span></span></span>
<span class="r-in"><span><span class="fu">package_search</span><span class="op">(</span>q <span class="op">=</span> <span class="st">'*:*'</span>, fq <span class="op">=</span> <span class="st">'num_tags:[2 TO *]'</span><span class="op">)</span><span class="op">$</span><span class="va">count</span></span></span>
<span class="r-in"><span><span class="fu">package_search</span><span class="op">(</span>q <span class="op">=</span> <span class="st">'*:*'</span>, fq <span class="op">=</span> <span class="st">'num_tags:[1 TO *]'</span><span class="op">)</span><span class="op">$</span><span class="va">count</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

